<h1>Випробування API: User</h1>

<p>
  Кнопки нижче тестують помилки аутентифікації для <code>/discount</code>:
  <br>— відсутній заголовок <b>Authorization</b>
  <br>— неправильна схема (не Bearer)
  <br>— закорочені (обрізані) дані токена
  <br>— неправильні символи base64/base64url
  <br>— невірний підпис (signature)
  <br>— прострочений токен (expired)
</p>

<table>
  <thead>
    <tr>
      <th style="width:260px">Метод</th>
      <th>Результат</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><button id="user-get-btn">GET /user (отримати токен)</button></td>
      <td id="user-get-result"></td>
    </tr>

    <tr>
      <td>
        <b>Token Header (з відповіді)</b>
        <div style="font-size:12px; opacity:0.8;">(те, що прийшло у відповіді сервера)</div>
      </td>
      <td id="token-header-result"><pre>немає</pre></td>
    </tr>

    <tr>
      <td>
        <b>Token Header (з токена)</b>
        <div style="font-size:12px; opacity:0.8;">(декодуємо першу частину JWT)</div>
      </td>
      <td id="token-header-decoded"><pre>немає</pre></td>
    </tr>

    <tr>
      <td>
        <b>Поточний токен</b>
      </td>
      <td><code id="current-token">немає</code></td>
    </tr>

    <tr><td colspan="2"><hr></td></tr>

    <tr>
      <td><button id="discount-ok-btn">GET /discount (OK)</button></td>
      <td id="discount-ok-result"></td>
    </tr>

    <tr><td colspan="2"><hr></td></tr>

    <tr>
      <td><button id="discount-missing-auth-btn">NO Authorization</button></td>
      <td id="discount-missing-auth-result"></td>
    </tr>
    <tr>
      <td><button id="discount-wrong-scheme-btn">Wrong scheme</button></td>
      <td id="discount-wrong-scheme-result"></td>
    </tr>
    <tr>
      <td><button id="discount-short-token-btn">Short token</button></td>
      <td id="discount-short-token-result"></td>
    </tr>
    <tr>
      <td><button id="discount-bad-base64-btn">Bad base64 symbols</button></td>
      <td id="discount-bad-base64-result"></td>
    </tr>
    <tr>
      <td><button id="discount-bad-signature-btn">Bad signature</button></td>
      <td id="discount-bad-signature-result"></td>
    </tr>
    <tr>
      <td><button id="discount-expired-btn">Expired token</button></td>
      <td id="discount-expired-result"></td>
    </tr>
  </tbody>
</table>
